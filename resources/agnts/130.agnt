{:agnt {:fn (fn [period] (nth_AND (map_= (apply (fn [cci thresh] (loop [res [0] cci cci] (if (= 1 (count cci)) res (recur (conj res (cond (and (> (first cci) thresh) (< (second cci) thresh)) 2 (and (< (first cci) (* -1 thresh)) (> (second cci) (* -1 thresh))) 1 :else 0)) (rest cci))))) (apply concat [(CCI period 18) [102]])) 1) (map_= (apply (fn [period sar] (let [open (take-last (count sar) (map (fn [r] (nth r 1)) period))] (sign (map (fn [n] (- (nth open n) (nth sar n))) (range (count sar)))))) (apply concat [[period] (SAR period 6 6) nil])) 1))), :wallet 1000, :bid_fn only-long-bids, :atr_dist 2.3797782552451214, :atr_candles 14, :closing_fn trailing-stop-ATR, :parents nil, :archive [], :fn_tree {:gate {:name :AND, :num-inp 2, :fn nth_AND, :0 {:indicator {:name "SAR", :args (6 6), :data [SAR], :method {:desc "above/below price", :fn (fn [period sar] (let [open (take-last (count sar) (map (fn [r] (nth r 1)) period))] (sign (map (fn [n] (- (nth open n) (nth sar n))) (range (count sar)))))), :period true, :type :flag, :range [-1 1], :protocol {:desc "flag_=", :fn map_=, :param-fns [(fn [range] (rand-nth range))], :params (1)}, :args nil}}}, :1 {:indicator {:name "CCI", :args (18), :data [CCI], :method {:desc "reversal at extreme", :fn (fn [cci thresh] (loop [res [0] cci cci] (if (= 1 (count cci)) res (recur (conj res (cond (and (> (first cci) thresh) (< (second cci) thresh)) 2 (and (< (first cci) (* -1 thresh)) (> (second cci) (* -1 thresh))) 1 :else 0)) (rest cci))))), :params [[thresh 100]], :type :flag, :range [1 2], :protocol {:desc "flag_=", :fn map_=, :param-fns [(fn [range] (rand-nth range))], :params (1)}, :args [102]}}}}}}, :id 130, :num_trades (75 194 227 191 222 195 221 184 201 219 229 219 206 218 200 196 232 206), :risk (8.890340504843948E-4 3.4355140086077686E-4 2.7166845837171946E-4 2.3815703447791883E-4 2.5319420277971114E-4 1.9621110741954153E-4 1.9045141453416403E-4 1.6141335189073143E-4 1.887041640094553E-4 2.1007370752335768E-4 2.0206192757255378E-4 2.1366903161993127E-4 2.0892213565745904E-4 1.9360397344554155E-4 1.9514828175845418E-4 1.9183203669946737E-4 2.2818949159238185E-4 2.0076817898196986E-4), :reward (0.0015789126846373802 5.956908140370194E-4 3.7126729465553375E-4 3.3262289149661717E-4 2.4012860915632785E-4 2.314993350656228E-4 1.705614842607322E-4 2.2044166694667927E-4 2.890784917930047E-4 2.442265830602908E-4 2.5979660545604003E-4 2.931242230134596E-4 2.733635828156528E-4 2.1060906442375954E-4 2.8967890373628316E-4 3.3394040063076995E-4 2.884099962919298E-4 2.45894568414869E-4), :num_won (21 70 79 60 79 52 76 53 77 65 65 65 71 69 64 49 76 58), :num_lost (54 124 148 131 143 143 145 131 124 154 164 154 135 149 136 147 156 148), :exposure (1.44788725851137 1.0216319488204668 1.3708412015217528 1.5632603925840878 1.9086170470924322 2.3308081867742088 2.130382794150678 1.809844222468745 1.0512273786722361 2.037915305672752 1.9623727784888898 1.7270194832122021 1.4531793525187906 1.9850634140498125 1.4315509116750846 1.7233497624467267 1.624038564711754 2.0834336103447337)}